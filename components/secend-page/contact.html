<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>El Mufakkir</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
   
  <link rel="stylesheet" href="secend.css">
  <link rel="stylesheet" href="/css/Style.css">
  <link rel="stylesheet" href="/components/navbar/navbar.css">
  <link rel="stylesheet" href="/components/footer/footer.css">
  
</head>
<body>
 
  <header id="navbar">
    <input type="checkbox" id="chk1">
    <a href="#" class="logo">El Mufakkir</a>
    <div class="navbar" id="navbar">
        <ul>
            <li><a href="/index.html">Home</a></li>
            <li><a href="#about-section">About Us</a></li>
            <li><a href="#announcements-section">Annonce</a></li>
            <li><a href="#contact-section">Contact</a></li>
        </ul>
    </div>
    <div class="language-buttons">
        <button id="en-btn" class="lang-btn1 active" onclick="switchLanguage('en')">English</button>
        <button id="ar-btn" class="lang-btn1" onclick="switchLanguage('ar')">Arabic</button>
    </div>
    <div class="menu">
        <label for="chk1"><i class="fa fa-bars"></i></label>
    </div>
</header>

       <div class="about-container" >
        <h2>About Us</h2>
        <div class="content">
            <div class="description-section" >
                <div id="about-container"></div>
            </div>
            <div class="info-section">
                <h2>Journal Information</h2>
                <div class="journal-info">
                    <div><span class="EISSN">EISSN:</span> 2600-6081</div>
                    <div><span class="Frequency">Frequency:</span> Biannual</div>
                    <div><span class="Acceptance">Acceptance Rate:</span> 91%</div>
                    <div><span class="Response_t">Average Response Time:</span> 290 Days</div>
                    <div><span class="Publication_t">Publication Time After Acceptance:</span> 66 Days</div>
                    <div><span class="Year_c">Year of Creation:</span> 2006</div>
                    <div><span class="Country">Country:</span> Algeria</div>
                    <div><span class="Institution">Institution:</span> University of Mohamed Khider Biskra</div>
                    <div><span class="Impact_f">Impact Factor (ASJP):</span> 0.6455</div>
                </div>
            </div>
        </div>
      
      <!-- Announcements Section -->
      <div class="announcements-section" >
        <h2>Announcements</h2>
        <div class="cards-slider">
          <div class="cards-container" id="announcements-section">
            <!-- Card 1 -->
            <div class="card">

            </div>
          </div>
        </div>
      </div>

   

<main class="contact-section" id="contact-section">
  <h2 class="h2contact"> Contact</h2>
      <div class="container">
          <!-- Contact Form Section -->
          
          <div class="col-lg-8 col-12">
            <h2><span> in touch</span></h2>
            <p class="p1">Feel free to reach out to us for any inquiries or feedback.</p>
            <form method="POST" action="http://elmofakir.test/api/contact-us" id="contact-form">
              <input name="_token" type="hidden" value="W7aN6Q1WsfwYv6OGHX3XGiCMjVeW20gaLyrosGbs">
              <div>
                <input placeholder="Name" id="name" type="text" required>
                <input placeholder="Email" id="email" type="email" required>
                <input placeholder="Mobile" id="mobile" type="text">
            </div>
              <input placeholder="Subject" name="title" id="title" type="text"> 
              <textarea placeholder="Type your message here.." name="message" id="message" rows="4"></textarea>
           
              <button type="submit" class="btnsend">Send Message</button>
            </form>
          </div>
          
          <!-- Office Info Section -->
          <div class="col-lg-4 col-12">
            <h2><span>Get office info</span></h2>
            <p class="p2">Visit our office or contact us through the provided details.</p>
            <div >
              <div class="prgrph">
                <i class="fas fa-map-marker-alt"></i>
                <p><strong class="s1">Address:</strong> University mohammed khaider ,Biskra Algerian </p>
              </div>
              <div class="prgrph">
                <i class="fas fa-phone-alt"></i>
                <p><strong class="s2">Phone:</strong> 033-50-12-19</p>
              </div>
              <div class="prgrph">
                <i class="fas fa-envelope"></i>
                <p><strong class="s3">Email:</strong> fdsp.univ-biskra.dz</p>
              </div>
              <div class="prgrph">
                <i class="fas fa-globe"></i>
                <p><strong class="s4">Website:</strong> El-Muffaker</p>
              </div>
            </div>
          </div>
      </div>
     
  </main>
  
  <div id="backToTop"></div>
  </div>
  <footer id="footer">
   
</footer>

  <script src="../components/footer/footer.js"></script>
  <script src="contact.js"></script>
  <script >
document.addEventListener('DOMContentLoaded', function () {
  // احصل على اللغة المخزنة في localStorage أو الافتراضية
  const savedLang = localStorage.getItem('lang') || 'en';
  switchLanguage(savedLang);

  // أضف class active حسب اللغة المحفوظة
  if (savedLang === 'en') {
      document.getElementById('en-btn').classList.add('active');
      document.getElementById('ar-btn').classList.remove('active');
  } else {
      document.getElementById('ar-btn').classList.add('active');
      document.getElementById('en-btn').classList.remove('active');
  }
});

function loadComponent(id, file) {
    const element = document.getElementById(id);
    fetch(file)
        .then(response => response.text())
        .then(data => {
            element.innerHTML = data;
           
        });
      }


        document.addEventListener('DOMContentLoaded', function () {
    loadComponent('footer', '../footer/footer.html');
    loadComponent('backToTop','../scroll-button/scrollB.html');
    document.querySelector('#contact-form').addEventListener('submit', function (e) {
      e.preventDefault(); // prevent the default form submission

      // Get form data
      var name = document.getElementById('name').value;
      var email = document.getElementById('email').value;
      var mobile = document.getElementById('mobile').value;
      var title = document.getElementById('title').value;
      var message = document.getElementById('message').value;


      console.log(name);
      console.log(email);
      console.log(mobile);
      // Create a payload to send to the backend
      const formData = {
        name: name,
        email: email,
        mobile: mobile,
        title: title,
        message: message,
      };

      // Send the data to the backend using Axios
      axios.post('http://elmofakir.test/api/contact-us', formData)
      .then(response => {
    console.log('Message sent successfully:', response);

    // Create a success message div
    const successMessage = document.createElement('div');
    successMessage.innerText = '✓ Your message has been sent successfully!';
    
    // Modern styling
    successMessage.style.backgroundColor = '#FCDEC0';  // Lightest color for the background
    successMessage.style.color = '#7D5A50';            // Darker color for the text
    successMessage.style.border = '1px solid #B4846C'; // Subtle border
    successMessage.style.padding = '15px';
    successMessage.style.margin = '10px 0';
    successMessage.style.borderRadius = '8px';
    successMessage.style.textAlign = 'center';
    successMessage.style.position = 'fixed';           // Fixed position for visibility
    successMessage.style.top = '20px';                 // Slightly lower than the top
    successMessage.style.left = '50%';                 // Center horizontally
    successMessage.style.transform = 'translateX(-50%)'; // Center the div
    successMessage.style.width = '90%';                // Make it responsive
    successMessage.style.maxWidth = '400px';           // Set a max width
    successMessage.style.boxShadow = '0 4px 6px rgba(0, 0, 0, 0.1)'; // Add shadow for modern look
    successMessage.style.fontSize = '16px';            // Increase font size for readability
    successMessage.style.zIndex = '1000';              // Ensure it’s above other elements

    // Insert the success message into the DOM
    document.body.appendChild(successMessage);

    // Optionally, reset the form
    document.getElementById('contact-form').reset();

    // Remove the message after a delay with smooth transition
    setTimeout(() => {
        successMessage.style.transition = 'opacity 0.5s ease, top 0.5s ease';
        successMessage.style.opacity = '0';
        successMessage.style.top = '0';                // Slide up effect
        setTimeout(() => {
            successMessage.remove();
        }, 500);  // Remove after fading out
    }, 5000);  // Message disappears after 5 seconds
})
.catch(error => {
    console.error('Error sending message:', error);

    // Create an error message div
    const errorMessage = document.createElement('div');
    errorMessage.innerText = '⚠ There was an error sending your message. Please try again later.';
    
    // Modern styling for error
    errorMessage.style.backgroundColor = '#E5B299';    // Softer color for the background
    errorMessage.style.color = '#7D5A50';              // Darker color for the text
    errorMessage.style.border = '1px solid #B4846C';   // Subtle border
    errorMessage.style.padding = '15px';
    errorMessage.style.margin = '10px 0';
    errorMessage.style.borderRadius = '8px';
    errorMessage.style.textAlign = 'center';
    errorMessage.style.position = 'fixed';             // Fixed position
    errorMessage.style.top = '20px';                   // Slightly lower than the top
    errorMessage.style.left = '50%';                   // Center horizontally
    errorMessage.style.transform = 'translateX(-50%)'; // Center the div
    errorMessage.style.width = '90%';                  // Make it responsive
    errorMessage.style.maxWidth = '400px';             // Set a max width
    errorMessage.style.boxShadow = '0 4px 6px rgba(0, 0, 0, 0.1)'; // Add shadow
    errorMessage.style.fontSize = '16px';              // Increase font size
    errorMessage.style.zIndex = '1000';                // Ensure visibility

    // Insert the error message into the DOM
    document.body.appendChild(errorMessage);

    // Remove the message after a delay with smooth transition
    setTimeout(() => {
        errorMessage.style.transition = 'opacity 0.5s ease, top 0.5s ease';
        errorMessage.style.opacity = '0';
        errorMessage.style.top = '0';                  // Slide up effect
        setTimeout(() => {
            errorMessage.remove();
        }, 500);  // Remove after fading out
    }, 5000);  // Message disappears after 5 seconds
});


    });
});

// Load the correct language when the page loads
document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('lang') || 'en'; // Default to English if no language is set
    AboutUs(savedLang); // Load About Us content in saved language
});






// استدعاء الدالة عندما يتم تحميل الصفحة مع استخدام اللغة المحفوظة في localStorage
document.addEventListener('DOMContentLoaded', () => {
    const lang = localStorage.getItem('lang') || 'en'; // افتراضي الإنجليزية إذا لم يتم اختيار لغة
    AboutUs(lang);
});

</script>
<script>
   function Announcements() {
    console.log('announcement');
    axios.get('https://elmofakir.test/api/all_announcements')
      .then(response => {
        const announcements = response.data.announcements;
        console.log('announcements:', announcements);
  
        if (Array.isArray(announcements)) {
          const announceContainer = document.querySelector('#announcements-section');
          announceContainer.innerHTML = '';
  
          announcements.forEach(announce => {
            const announceElement = document.createElement('div');
            announceElement.innerHTML = `
              <div class="card">
              <h3>${announce.title}</h3>
              <p>${announce.description}</p>
              <p class="date">${announce.created_date}</p>
              </div>
            `;
            announceContainer.appendChild(announceElement);
          });
        } else {
          console.error('Error: Expected an array of announcements');
        }
      })
      .catch(error => console.error('Error fetching announcements:', error));
  }
  
  // Fetch announcements when the page loads
  document.addEventListener('DOMContentLoaded', Announcements);

  
  </script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</body>
</html>